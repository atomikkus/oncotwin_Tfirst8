version: '3.8'

services:
  # The OncoTwin API service
  api:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: oncotwin_api
    ports:
      - "8001:8001"
    volumes:
      # Mount the api_outputs directory to persist results on the host machine
      - ./api_outputs:/app/api_outputs
    environment:
      # Pass credentials from a local .env file into the container
      - USER_EMAIL=${USER_EMAIL}
      - USER_PASSWORD=${USER_PASSWORD}
      - ECRF_EMAIL=${ECRF_EMAIL}
      - ECRF_PASSWORD=${ECRF_PASSWORD}
    restart: unless-stopped 